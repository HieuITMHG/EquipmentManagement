{% extends "manager/manager_layout.html" %}

{% block content %}
<div class="max-w-5xl mx-auto mt-8">
    <h1 class="text-2xl font-bold mb-6">
        Duyệt phiếu 
        {% if form_type == 'liquidation' %}Thanh lý{% elif form_type == 'violation' %}Vi phạm{% elif form_type == 'repair' %}Sửa chữa{% endif %}
    </h1>

    {% if slips %}
        <div class="space-y-4">
            {% for slip in slips %}
            <div class="bg-white p-4 rounded shadow flex justify-between items-center">
                <div>
                    <p><strong>ID:</strong> {{ slip.id }}</p>
                    <p><strong>Ngày tạo:</strong> {{ slip.submitted_at.strftime('%d/%m/%Y') }}</p>
                    <p><strong>Người tạo:</strong> {{ slip.staff_id }}</p>
                </div>
                <div class="flex gap-2">
                    <form method="POST" action="{{ url_for('manager.approve_form', form_type=form_type, slip_id=slip.id) }}">
                        <button class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600">Duyệt</button>
                    </form>
                    <form method="POST" action="{{ url_for('manager.reject_form', form_type=form_type, slip_id=slip.id) }}">
                        <button class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600">Từ chối</button>
                    </form>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-gray-500">Không có phiếu nào đang chờ duyệt.</p>
    {% endif %}
</div>
{% endblock %}
